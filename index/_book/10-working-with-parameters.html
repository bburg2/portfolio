<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="10 Working with parameters | _main.knit" />
<meta property="og:type" content="book" />




<meta name="author" content="Bas" />

<meta name="date" content="2022-05-06" />


<meta name="description" content="10 Working with parameters | _main.knit">

<title>10 Working with parameters | _main.knit</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="darkdown.css, css\toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#about-me"><span class="toc-section-number">1</span> About me</a></li>
<li><a href="2-resume.html#resume"><span class="toc-section-number">2</span> Resume</a></li>
<li class="has-sub"><a href="3-project-introduction.html#project-introduction"><span class="toc-section-number">3</span> Project Introduction</a>
<ul>
<li><a href="3-project-introduction.html#introductie"><span class="toc-section-number">3.0.1</span> Introductie</a></li>
<li><a href="3-project-introduction.html#about-the-project"><span class="toc-section-number">3.0.2</span> about the project</a></li>
<li><a href="3-project-introduction.html#bibliography"><span class="toc-section-number">3.0.3</span> Bibliography</a></li>
</ul></li>
<li><a href="4-data-managment.html#data-managment"><span class="toc-section-number">4</span> Data managment</a></li>
<li><a href="5-example-data-analysis.html#example-data-analysis"><span class="toc-section-number">5</span> Example Data Analysis</a></li>
<li class="has-sub"><a href="6-reproducibility.html#reproducibility"><span class="toc-section-number">6</span> Reproducibility</a>
<ul>
<li class="has-sub"><a href="6.1-working-with-articles.html#working-with-articles"><span class="toc-section-number">6.1</span> Working with articles</a>
<ul>
<li><a href="6.1-working-with-articles.html#article-references"><span class="toc-section-number">6.1.1</span> Article References</a></li>
<li><a href="6.1-working-with-articles.html#criteria-article"><span class="toc-section-number">6.1.2</span> Criteria article</a></li>
<li><a href="6.1-working-with-articles.html#other-data"><span class="toc-section-number">6.1.3</span> Other data</a></li>
<li><a href="6.1-working-with-articles.html#extras-about-the-article"><span class="toc-section-number">6.1.4</span> Extraâ€™s about the article</a></li>
</ul></li>
<li><a href="6.2-working-with-code-from-articles.html#working-with-code-from-articles"><span class="toc-section-number">6.2</span> Working with code from articles</a></li>
</ul></li>
<li class="has-sub"><a href="7-plan-for-learning-on-my-own.html#plan-for-learning-on-my-own"><span class="toc-section-number">7</span> Plan for learning on my own</a>
<ul>
<li><a href="7-plan-for-learning-on-my-own.html#what-i-want-to-learn"><span class="toc-section-number">7.0.1</span> What I want to learn</a></li>
<li><a href="7-plan-for-learning-on-my-own.html#my-plan-to-learn-python"><span class="toc-section-number">7.0.2</span> My plan to learn python</a></li>
</ul></li>
<li><a href="8-sql-data-analysis.html#sql-data-analysis"><span class="toc-section-number">8</span> SQL data analysis</a></li>
<li class="has-sub"><a href="9-package-creation.html#package-creation"><span class="toc-section-number">9</span> Package creation</a>
<ul>
<li><a href="9.1-description.html#description"><span class="toc-section-number">9.1</span> description</a></li>
<li><a href="9.2-installation.html#installation"><span class="toc-section-number">9.2</span> installation</a></li>
</ul></li>
<li><a href="10-working-with-parameters.html#working-with-parameters"><span class="toc-section-number">10</span> Working with parameters</a></li>
<li><a href="11-references.html#references"><span class="toc-section-number">11</span> References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="working-with-parameters" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Working with parameters</h1>
<p>One of the things that I have learned is to work with parameters in markdown files.
With the help of parameters its easy to change what you are analysing.
The goal of parameters is to make it readable for people but also readable for the program.</p>
<p>For the purpose of showing my skills with markdown parameters I made an analysis based on covid-19 data.
With this markdown file it is possible to change parameters.
The parameters that are possible to change are:</p>
<ul>
<li><p>Country from which you want to see the data</p></li>
<li><p>year in which you want to look</p></li>
<li><p>firstmonth and lastmonth, so you can look at data between specific months</p></li>
<li><p>continent from which you want to look at</p></li>
</ul>
<p>In the video beneath you can look at the easy way to change parameters</p>
<div class="figure">
<img src="https://media.giphy.com/media/uWRibtnGNJJ0ST4HjC/giphy.gif" alt="" />
<p class="caption">Working with parameters</p>
</div>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="10-working-with-parameters.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb85-2"><a href="10-working-with-parameters.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb85-3"><a href="10-working-with-parameters.html#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="10-working-with-parameters.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loading the data to an object</span></span>
<span id="cb86-2"><a href="10-working-with-parameters.html#cb86-2" aria-hidden="true" tabindex="-1"></a>covid_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;covid_data.csv&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="10-working-with-parameters.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change the date collumn to a date class</span></span>
<span id="cb87-2"><a href="10-working-with-parameters.html#cb87-2" aria-hidden="true" tabindex="-1"></a>covid_data<span class="sc">$</span>dateRep <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(covid_data<span class="sc">$</span>dateRep, <span class="at">tryFormats =</span> <span class="fu">c</span>(<span class="st">&quot;%d/%m/%y&quot;</span>))</span>
<span id="cb87-3"><a href="10-working-with-parameters.html#cb87-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-4"><a href="10-working-with-parameters.html#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co"># filter by country, year an month</span></span>
<span id="cb87-5"><a href="10-working-with-parameters.html#cb87-5" aria-hidden="true" tabindex="-1"></a>country_filter <span class="ot">&lt;-</span> covid_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(countriesAndTerritories <span class="sc">==</span> params<span class="sc">$</span>country <span class="sc">&amp;</span> year <span class="sc">==</span> params<span class="sc">$</span>year <span class="sc">&amp;</span> month <span class="sc">%in%</span> (params<span class="sc">$</span>firstmonth<span class="sc">:</span>params<span class="sc">$</span>lastmonth))</span>
<span id="cb87-6"><a href="10-working-with-parameters.html#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="10-working-with-parameters.html#cb87-7" aria-hidden="true" tabindex="-1"></a><span class="co"># make a line graph based on the filter output</span></span>
<span id="cb87-8"><a href="10-working-with-parameters.html#cb87-8" aria-hidden="true" tabindex="-1"></a>country_filter <span class="sc">%&gt;%</span></span>
<span id="cb87-9"><a href="10-working-with-parameters.html#cb87-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> dateRep, <span class="at">y =</span> cases)) <span class="sc">+</span></span>
<span id="cb87-10"><a href="10-working-with-parameters.html#cb87-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb87-11"><a href="10-working-with-parameters.html#cb87-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb87-12"><a href="10-working-with-parameters.html#cb87-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">&quot;Covid cases from&quot;</span>,params<span class="sc">$</span>country, <span class="st">&quot;in&quot;</span>, params<span class="sc">$</span>year),</span>
<span id="cb87-13"><a href="10-working-with-parameters.html#cb87-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Date&quot;</span></span>
<span id="cb87-14"><a href="10-working-with-parameters.html#cb87-14" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="10-working-with-parameters.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter by year and continent and sum the amount of deaths per country</span></span>
<span id="cb88-2"><a href="10-working-with-parameters.html#cb88-2" aria-hidden="true" tabindex="-1"></a>country_deaths <span class="ot">&lt;-</span> covid_data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(countriesAndTerritories) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> params<span class="sc">$</span>year, continentExp <span class="sc">==</span> params<span class="sc">$</span>continent) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">deaths =</span> <span class="fu">sum</span>(deaths, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb88-3"><a href="10-working-with-parameters.html#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="10-working-with-parameters.html#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co"># make a bar graph based on the filter output</span></span>
<span id="cb88-5"><a href="10-working-with-parameters.html#cb88-5" aria-hidden="true" tabindex="-1"></a>country_deaths <span class="sc">%&gt;%</span> </span>
<span id="cb88-6"><a href="10-working-with-parameters.html#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> countriesAndTerritories, <span class="at">y =</span> deaths)) <span class="sc">+</span></span>
<span id="cb88-7"><a href="10-working-with-parameters.html#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb88-8"><a href="10-working-with-parameters.html#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>))<span class="sc">+</span></span>
<span id="cb88-9"><a href="10-working-with-parameters.html#cb88-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb88-10"><a href="10-working-with-parameters.html#cb88-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">&quot;covid related deaths per country in&quot;</span>, params<span class="sc">$</span>continent, <span class="st">&quot;in&quot;</span>, params<span class="sc">$</span>year),</span>
<span id="cb88-11"><a href="10-working-with-parameters.html#cb88-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;countries&quot;</span></span>
<span id="cb88-12"><a href="10-working-with-parameters.html#cb88-12" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<p style="text-align: center;">
<a href="9.2-installation.html"><button class="btn btn-default">Previous</button></a>
<a href="11-references.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
