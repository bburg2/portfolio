<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="6.2 Working with code from articles | _main.knit" />
<meta property="og:type" content="book" />




<meta name="author" content="Bas" />

<meta name="date" content="2022-05-06" />


<meta name="description" content="6.2 Working with code from articles | _main.knit">

<title>6.2 Working with code from articles | _main.knit</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="darkdown.css, css\toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#about-me"><span class="toc-section-number">1</span> About me</a></li>
<li><a href="2-resume.html#resume"><span class="toc-section-number">2</span> Resume</a></li>
<li class="has-sub"><a href="3-project-introduction.html#project-introduction"><span class="toc-section-number">3</span> Project Introduction</a>
<ul>
<li><a href="3-project-introduction.html#introductie"><span class="toc-section-number">3.0.1</span> Introductie</a></li>
<li><a href="3-project-introduction.html#about-the-project"><span class="toc-section-number">3.0.2</span> about the project</a></li>
<li><a href="3-project-introduction.html#bibliography"><span class="toc-section-number">3.0.3</span> Bibliography</a></li>
</ul></li>
<li><a href="4-data-managment.html#data-managment"><span class="toc-section-number">4</span> Data managment</a></li>
<li><a href="5-example-data-analysis.html#example-data-analysis"><span class="toc-section-number">5</span> Example Data Analysis</a></li>
<li class="has-sub"><a href="6-reproducibility.html#reproducibility"><span class="toc-section-number">6</span> Reproducibility</a>
<ul>
<li class="has-sub"><a href="6.1-working-with-articles.html#working-with-articles"><span class="toc-section-number">6.1</span> Working with articles</a>
<ul>
<li><a href="6.1-working-with-articles.html#article-references"><span class="toc-section-number">6.1.1</span> Article References</a></li>
<li><a href="6.1-working-with-articles.html#criteria-article"><span class="toc-section-number">6.1.2</span> Criteria article</a></li>
<li><a href="6.1-working-with-articles.html#other-data"><span class="toc-section-number">6.1.3</span> Other data</a></li>
<li><a href="6.1-working-with-articles.html#extras-about-the-article"><span class="toc-section-number">6.1.4</span> Extraâ€™s about the article</a></li>
</ul></li>
<li><a href="6.2-working-with-code-from-articles.html#working-with-code-from-articles"><span class="toc-section-number">6.2</span> Working with code from articles</a></li>
</ul></li>
<li class="has-sub"><a href="7-plan-for-learning-on-my-own.html#plan-for-learning-on-my-own"><span class="toc-section-number">7</span> Plan for learning on my own</a>
<ul>
<li><a href="7-plan-for-learning-on-my-own.html#what-i-want-to-learn"><span class="toc-section-number">7.0.1</span> What I want to learn</a></li>
<li><a href="7-plan-for-learning-on-my-own.html#my-plan-to-learn-python"><span class="toc-section-number">7.0.2</span> My plan to learn python</a></li>
</ul></li>
<li><a href="8-sql-data-analysis.html#sql-data-analysis"><span class="toc-section-number">8</span> SQL data analysis</a></li>
<li class="has-sub"><a href="9-package-creation.html#package-creation"><span class="toc-section-number">9</span> Package creation</a>
<ul>
<li><a href="9.1-description.html#description"><span class="toc-section-number">9.1</span> description</a></li>
<li><a href="9.2-installation.html#installation"><span class="toc-section-number">9.2</span> installation</a></li>
</ul></li>
<li><a href="10-working-with-parameters.html#working-with-parameters"><span class="toc-section-number">10</span> Working with parameters</a></li>
<li><a href="11-references.html#references"><span class="toc-section-number">11</span> References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="working-with-code-from-articles" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Working with code from articles</h2>
<p>In data science it is also a useful skill to work with open science articles. These articles show their code and show how they got their data.
In this part of the page I look at some code and try to reproduce it of a random article. The article is found <a href="https://osf.io/wqc25/">here</a></p>
<p>When looking at the code I can see that the data analysts first made some function for the purpose of creating some graphs.
After this the load in the required data and look for missing value data.
After cleaning the data the started making some graphs.</p>
<p>One of the things that I look at when analysing the code is if the code hase comments describing what is being done in the code. This code has comments above every code but the comment are not always as clear as can be.</p>
<p>After I analysed the code I copied some of the code to look at how easy it is to reproduce the article.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="6.2-working-with-code-from-articles.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb5-2"><a href="6.2-working-with-code-from-articles.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># read data ---------------------------------------------------------------</span></span>
<span id="cb5-3"><a href="6.2-working-with-code-from-articles.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># sample 1</span></span>
<span id="cb5-4"><a href="6.2-working-with-code-from-articles.html#cb5-4" aria-hidden="true" tabindex="-1"></a>sample1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,<span class="st">&quot;sample1_use for revision 1.csv&quot;</span>))</span>
<span id="cb5-5"><a href="6.2-working-with-code-from-articles.html#cb5-5" aria-hidden="true" tabindex="-1"></a>sample1 <span class="ot">&lt;-</span> sample1[sample1<span class="sc">$</span>include_1,]</span>
<span id="cb5-6"><a href="6.2-working-with-code-from-articles.html#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="6.2-working-with-code-from-articles.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># sample 2</span></span>
<span id="cb5-8"><a href="6.2-working-with-code-from-articles.html#cb5-8" aria-hidden="true" tabindex="-1"></a>sample2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>,<span class="st">&quot;sample2_use for revision 1.csv&quot;</span>))</span>
<span id="cb5-9"><a href="6.2-working-with-code-from-articles.html#cb5-9" aria-hidden="true" tabindex="-1"></a>sample2 <span class="ot">&lt;-</span> sample2[sample2<span class="sc">$</span>include_1,]</span>
<span id="cb5-10"><a href="6.2-working-with-code-from-articles.html#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="6.2-working-with-code-from-articles.html#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># combine samples for the additional analyses</span></span>
<span id="cb5-12"><a href="6.2-working-with-code-from-articles.html#cb5-12" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(sample1, sample2)</span>
<span id="cb5-13"><a href="6.2-working-with-code-from-articles.html#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="6.2-working-with-code-from-articles.html#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># packages ----------------------------------------------------------------</span></span>
<span id="cb5-15"><a href="6.2-working-with-code-from-articles.html#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># functie inladen</span></span>
<span id="cb5-16"><a href="6.2-working-with-code-from-articles.html#cb5-16" aria-hidden="true" tabindex="-1"></a>gg_color_hue <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb5-17"><a href="6.2-working-with-code-from-articles.html#cb5-17" aria-hidden="true" tabindex="-1"></a>  hues <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">15</span>, <span class="dv">375</span>, <span class="at">length =</span> n <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb5-18"><a href="6.2-working-with-code-from-articles.html#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hcl</span>(<span class="at">h =</span> hues, <span class="at">l =</span> <span class="dv">65</span>, <span class="at">c =</span> <span class="dv">100</span>)[<span class="dv">1</span><span class="sc">:</span>n]</span>
<span id="cb5-19"><a href="6.2-working-with-code-from-articles.html#cb5-19" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-20"><a href="6.2-working-with-code-from-articles.html#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="6.2-working-with-code-from-articles.html#cb5-21" aria-hidden="true" tabindex="-1"></a>get_max_daily <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb5-22"><a href="6.2-working-with-code-from-articles.html#cb5-22" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">9</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">17</span><span class="sc">:</span><span class="dv">20</span>, <span class="dv">25</span><span class="sc">:</span><span class="dv">27</span>)</span>
<span id="cb5-23"><a href="6.2-working-with-code-from-articles.html#cb5-23" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x[x <span class="sc">&lt;</span> <span class="fu">ymd</span>(<span class="st">&quot;2020-04-13 UTC&quot;</span>)]</span>
<span id="cb5-24"><a href="6.2-working-with-code-from-articles.html#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(x)</span>
<span id="cb5-25"><a href="6.2-working-with-code-from-articles.html#cb5-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-26"><a href="6.2-working-with-code-from-articles.html#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="6.2-working-with-code-from-articles.html#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;lubridate&quot;)</span></span>
<span id="cb5-28"><a href="6.2-working-with-code-from-articles.html#cb5-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb5-29"><a href="6.2-working-with-code-from-articles.html#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="6.2-working-with-code-from-articles.html#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------</span></span>
<span id="cb5-31"><a href="6.2-working-with-code-from-articles.html#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="6.2-working-with-code-from-articles.html#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="do">## define colors</span></span>
<span id="cb5-33"><a href="6.2-working-with-code-from-articles.html#cb5-33" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">gg_color_hue</span>(<span class="dv">2</span>)</span>
<span id="cb5-34"><a href="6.2-working-with-code-from-articles.html#cb5-34" aria-hidden="true" tabindex="-1"></a>col.s1 <span class="ot">&lt;-</span> c[<span class="dv">1</span>]</span>
<span id="cb5-35"><a href="6.2-working-with-code-from-articles.html#cb5-35" aria-hidden="true" tabindex="-1"></a>col.s2 <span class="ot">&lt;-</span> c[<span class="dv">2</span>]</span>
<span id="cb5-36"><a href="6.2-working-with-code-from-articles.html#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="6.2-working-with-code-from-articles.html#cb5-37" aria-hidden="true" tabindex="-1"></a><span class="co"># completed baseline surveys per day that are included in the study</span></span>
<span id="cb5-38"><a href="6.2-working-with-code-from-articles.html#cb5-38" aria-hidden="true" tabindex="-1"></a>data_l2_s1 <span class="ot">&lt;-</span> <span class="fu">unique</span>(sample1[<span class="fu">c</span>(<span class="st">&quot;ID&quot;</span>, <span class="st">&quot;b_baseline_ended&quot;</span>)])</span>
<span id="cb5-39"><a href="6.2-working-with-code-from-articles.html#cb5-39" aria-hidden="true" tabindex="-1"></a>data_l2_s2 <span class="ot">&lt;-</span> <span class="fu">unique</span>(sample2[<span class="fu">c</span>(<span class="st">&quot;ID&quot;</span>, <span class="st">&quot;b_baseline_ended&quot;</span>)])</span>
<span id="cb5-40"><a href="6.2-working-with-code-from-articles.html#cb5-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-41"><a href="6.2-working-with-code-from-articles.html#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="co"># no missings on this variable</span></span>
<span id="cb5-42"><a href="6.2-working-with-code-from-articles.html#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(data_l2_s1[<span class="dv">2</span>]))</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="6.2-working-with-code-from-articles.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(data_l2_s2[<span class="dv">2</span>]))</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="6.2-working-with-code-from-articles.html#cb9-1" aria-hidden="true" tabindex="-1"></a>date_s1 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(data_l2_s1<span class="sc">$</span>b_baseline_ended)</span>
<span id="cb9-2"><a href="6.2-working-with-code-from-articles.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(date_s1) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-3"><a href="6.2-working-with-code-from-articles.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">minute</span>(date_s1) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-4"><a href="6.2-working-with-code-from-articles.html#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">second</span>(date_s1) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-5"><a href="6.2-working-with-code-from-articles.html#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="6.2-working-with-code-from-articles.html#cb9-6" aria-hidden="true" tabindex="-1"></a>date_s2 <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(data_l2_s2<span class="sc">$</span>b_baseline_ended)</span>
<span id="cb9-7"><a href="6.2-working-with-code-from-articles.html#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(date_s2) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-8"><a href="6.2-working-with-code-from-articles.html#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="fu">minute</span>(date_s2) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-9"><a href="6.2-working-with-code-from-articles.html#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">second</span>(date_s2) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-10"><a href="6.2-working-with-code-from-articles.html#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="6.2-working-with-code-from-articles.html#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="6.2-working-with-code-from-articles.html#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># number of baseline surveys completed</span></span>
<span id="cb9-13"><a href="6.2-working-with-code-from-articles.html#cb9-13" aria-hidden="true" tabindex="-1"></a>t_date_baseline_1 <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="fu">ymd</span>(date_s1))</span>
<span id="cb9-14"><a href="6.2-working-with-code-from-articles.html#cb9-14" aria-hidden="true" tabindex="-1"></a>t_date_baseline_2 <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="fu">ymd</span>(date_s2))</span>
<span id="cb9-15"><a href="6.2-working-with-code-from-articles.html#cb9-15" aria-hidden="true" tabindex="-1"></a>t_date_baseline_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(t_date_baseline_1, <span class="st">&quot;2020-04-12&quot;</span> <span class="ot">=</span> <span class="dv">0</span>)</span>
<span id="cb9-16"><a href="6.2-working-with-code-from-articles.html#cb9-16" aria-hidden="true" tabindex="-1"></a>t_date_baseline_12 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(t_date_baseline_1, t_date_baseline_2)</span>
<span id="cb9-17"><a href="6.2-working-with-code-from-articles.html#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="6.2-working-with-code-from-articles.html#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># barplot sample 1 and 2 baseline participation ---------------------------</span></span>
<span id="cb9-19"><a href="6.2-working-with-code-from-articles.html#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="6.2-working-with-code-from-articles.html#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(<span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span>
<span id="cb9-21"><a href="6.2-working-with-code-from-articles.html#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="6.2-working-with-code-from-articles.html#cb9-22" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">barplot</span>(t_date_baseline_12, <span class="at">beside =</span> <span class="cn">TRUE</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">800</span>), <span class="at">names.arg =</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="fu">length</span>(t_date_baseline_12)),</span>
<span id="cb9-23"><a href="6.2-working-with-code-from-articles.html#cb9-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">col =</span> <span class="fu">c</span>(col.s1, col.s2), <span class="at">axes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb9-24"><a href="6.2-working-with-code-from-articles.html#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>()</span>
<span id="cb9-25"><a href="6.2-working-with-code-from-articles.html#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="at">las =</span> <span class="dv">2</span>, <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb9-26"><a href="6.2-working-with-code-from-articles.html#cb9-26" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">28</span>, <span class="dv">7</span>)</span>
<span id="cb9-27"><a href="6.2-working-with-code-from-articles.html#cb9-27" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">colnames</span>(t_date_baseline_12)[s]</span>
<span id="cb9-28"><a href="6.2-working-with-code-from-articles.html#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">at =</span> ((b[<span class="dv">1</span>,] <span class="sc">+</span> b[<span class="dv">2</span>,])<span class="sc">/</span><span class="dv">2</span>)[s], <span class="at">labels =</span> labels, <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb9-29"><a href="6.2-working-with-code-from-articles.html#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="st">&quot;A&quot;</span>, <span class="at">x =</span> ((b[<span class="dv">1</span>,] <span class="sc">+</span> b[<span class="dv">2</span>,])<span class="sc">/</span><span class="dv">2</span>)[<span class="dv">2</span>], <span class="at">y =</span> <span class="dv">800</span><span class="sc">*</span>.<span class="dv">9</span>, <span class="at">cex =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span>
<span id="cb9-30"><a href="6.2-working-with-code-from-articles.html#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x =</span> ((b[<span class="dv">1</span>,] <span class="sc">+</span> b[<span class="dv">2</span>,])<span class="sc">/</span><span class="dv">2</span>)[<span class="dv">15</span>], <span class="at">y =</span> <span class="dv">800</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Sample 1&quot;</span>, <span class="st">&quot;Sample 2&quot;</span>), <span class="at">fill =</span> <span class="fu">c</span>(col.s1, col.s2), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>)</span>
<span id="cb9-31"><a href="6.2-working-with-code-from-articles.html#cb9-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-32"><a href="6.2-working-with-code-from-articles.html#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="6.2-working-with-code-from-articles.html#cb9-33" aria-hidden="true" tabindex="-1"></a><span class="co"># dates at which a daily survey could have been completed:</span></span>
<span id="cb9-34"><a href="6.2-working-with-code-from-articles.html#cb9-34" aria-hidden="true" tabindex="-1"></a>max_daily_dates_s1 <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">ymd</span>(date_s1), get_max_daily)</span>
<span id="cb9-35"><a href="6.2-working-with-code-from-articles.html#cb9-35" aria-hidden="true" tabindex="-1"></a>max_daily_dates_s2 <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="fu">ymd</span>(date_s2), get_max_daily)</span>
<span id="cb9-36"><a href="6.2-working-with-code-from-articles.html#cb9-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-37"><a href="6.2-working-with-code-from-articles.html#cb9-37" aria-hidden="true" tabindex="-1"></a>max_dates_s1 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(<span class="st">&quot;c&quot;</span>, max_daily_dates_s1)</span>
<span id="cb9-38"><a href="6.2-working-with-code-from-articles.html#cb9-38" aria-hidden="true" tabindex="-1"></a>max_dates_s2 <span class="ot">&lt;-</span> <span class="fu">do.call</span>(<span class="st">&quot;c&quot;</span>, max_daily_dates_s2)</span>
<span id="cb9-39"><a href="6.2-working-with-code-from-articles.html#cb9-39" aria-hidden="true" tabindex="-1"></a>obtained_dates_s1 <span class="ot">&lt;-</span> sample1<span class="sc">$</span>daily_date</span>
<span id="cb9-40"><a href="6.2-working-with-code-from-articles.html#cb9-40" aria-hidden="true" tabindex="-1"></a>obtained_dates_s2 <span class="ot">&lt;-</span> sample2<span class="sc">$</span>daily_date</span>
<span id="cb9-41"><a href="6.2-working-with-code-from-articles.html#cb9-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-42"><a href="6.2-working-with-code-from-articles.html#cb9-42" aria-hidden="true" tabindex="-1"></a>t_max_dates_s1 <span class="ot">&lt;-</span> <span class="fu">table</span>(max_dates_s1)</span>
<span id="cb9-43"><a href="6.2-working-with-code-from-articles.html#cb9-43" aria-hidden="true" tabindex="-1"></a>t_max_dates_s2 <span class="ot">&lt;-</span> <span class="fu">table</span>(max_dates_s2)</span>
<span id="cb9-44"><a href="6.2-working-with-code-from-articles.html#cb9-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-45"><a href="6.2-working-with-code-from-articles.html#cb9-45" aria-hidden="true" tabindex="-1"></a>t_obtained_dates_s1 <span class="ot">&lt;-</span> <span class="fu">table</span>(obtained_dates_s1)</span>
<span id="cb9-46"><a href="6.2-working-with-code-from-articles.html#cb9-46" aria-hidden="true" tabindex="-1"></a>t_obtained_dates_s2 <span class="ot">&lt;-</span> <span class="fu">table</span>(obtained_dates_s2)</span>
<span id="cb9-47"><a href="6.2-working-with-code-from-articles.html#cb9-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-48"><a href="6.2-working-with-code-from-articles.html#cb9-48" aria-hidden="true" tabindex="-1"></a>t_obtained_dates_s12 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(t_obtained_dates_s1, t_obtained_dates_s2)</span>
<span id="cb9-49"><a href="6.2-working-with-code-from-articles.html#cb9-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-50"><a href="6.2-working-with-code-from-articles.html#cb9-50" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">barplot</span>(t_obtained_dates_s12, <span class="at">beside =</span> <span class="cn">TRUE</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">2000</span>),</span>
<span id="cb9-51"><a href="6.2-working-with-code-from-articles.html#cb9-51" aria-hidden="true" tabindex="-1"></a>             <span class="at">names.arg =</span> <span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="fu">length</span>(t_obtained_dates_s12)),</span>
<span id="cb9-52"><a href="6.2-working-with-code-from-articles.html#cb9-52" aria-hidden="true" tabindex="-1"></a>             <span class="at">col =</span> <span class="fu">c</span>(col.s1, col.s2), <span class="at">axes =</span> <span class="cn">FALSE</span>)</span>
<span id="cb9-53"><a href="6.2-working-with-code-from-articles.html#cb9-53" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>()</span>
<span id="cb9-54"><a href="6.2-working-with-code-from-articles.html#cb9-54" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="at">las =</span> <span class="dv">2</span>, <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb9-55"><a href="6.2-working-with-code-from-articles.html#cb9-55" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">colnames</span>(t_obtained_dates_s12)[s]</span>
<span id="cb9-56"><a href="6.2-working-with-code-from-articles.html#cb9-56" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">at =</span> ((b[<span class="dv">1</span>,] <span class="sc">+</span> b[<span class="dv">2</span>,])<span class="sc">/</span><span class="dv">2</span>)[s], <span class="at">labels =</span> labels, <span class="at">cex.axis =</span> <span class="fl">0.8</span>)</span>
<span id="cb9-57"><a href="6.2-working-with-code-from-articles.html#cb9-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-58"><a href="6.2-working-with-code-from-articles.html#cb9-58" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="at">y =</span> t_max_dates_s1, <span class="at">x =</span> b[<span class="dv">1</span>,], <span class="at">type =</span> <span class="st">&quot;p&quot;</span>, <span class="at">pch =</span> <span class="st">&quot;-&quot;</span>, <span class="at">col =</span> col.s1, <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb9-59"><a href="6.2-working-with-code-from-articles.html#cb9-59" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="at">y =</span> t_max_dates_s2, <span class="at">x =</span> b[<span class="dv">2</span>,], <span class="at">type =</span> <span class="st">&quot;p&quot;</span>, <span class="at">pch =</span> <span class="st">&quot;-&quot;</span>, <span class="at">col =</span> col.s2, <span class="at">cex =</span> <span class="fl">1.5</span>)</span>
<span id="cb9-60"><a href="6.2-working-with-code-from-articles.html#cb9-60" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="st">&quot;B&quot;</span>, <span class="at">x =</span> ((b[<span class="dv">1</span>,] <span class="sc">+</span> b[<span class="dv">2</span>,])<span class="sc">/</span><span class="dv">2</span>)[<span class="dv">2</span>], <span class="at">y =</span> <span class="dv">2000</span><span class="sc">*</span>.<span class="dv">9</span>, <span class="at">cex =</span> <span class="dv">4</span>, <span class="at">col =</span> <span class="st">&quot;grey&quot;</span>)</span>
<span id="cb9-61"><a href="6.2-working-with-code-from-articles.html#cb9-61" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x =</span> ((b[<span class="dv">1</span>,] <span class="sc">+</span> b[<span class="dv">2</span>,])<span class="sc">/</span><span class="dv">2</span>)[<span class="dv">15</span>], <span class="at">y =</span> <span class="dv">2000</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Sample 1&quot;</span>, <span class="st">&quot;Sample 2&quot;</span>), <span class="at">fill =</span> <span class="fu">c</span>(col.s1, col.s2), <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="6.2-working-with-code-from-articles.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># difference obtained and maximum -----------------------------------------</span></span>
<span id="cb10-2"><a href="6.2-working-with-code-from-articles.html#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="6.2-working-with-code-from-articles.html#cb10-3" aria-hidden="true" tabindex="-1"></a>obtained_total <span class="ot">&lt;-</span> <span class="fu">sum</span>(t_obtained_dates_s12)</span>
<span id="cb10-4"><a href="6.2-working-with-code-from-articles.html#cb10-4" aria-hidden="true" tabindex="-1"></a>max_reports_total <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">c</span>(t_max_dates_s1, t_max_dates_s2))</span>
<span id="cb10-5"><a href="6.2-working-with-code-from-articles.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(obtained_total<span class="sc">/</span>max_reports_total<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 75.74</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="6.2-working-with-code-from-articles.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># average surveys per day -------------------------------------------------</span></span>
<span id="cb12-2"><a href="6.2-working-with-code-from-articles.html#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="6.2-working-with-code-from-articles.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(<span class="fu">colSums</span>(t_obtained_dates_s12))</span></code></pre></div>
<pre><code>## [1] 1468</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="6.2-working-with-code-from-articles.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># average number of loneliness scores per participant ---------------------</span></span>
<span id="cb14-2"><a href="6.2-working-with-code-from-articles.html#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="6.2-working-with-code-from-articles.html#cb14-3" aria-hidden="true" tabindex="-1"></a>s1_lst <span class="ot">&lt;-</span> <span class="fu">split</span>(sample1, <span class="at">f =</span> sample1<span class="sc">$</span>ID)</span>
<span id="cb14-4"><a href="6.2-working-with-code-from-articles.html#cb14-4" aria-hidden="true" tabindex="-1"></a>n_1 <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(s1_lst, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(x<span class="sc">$</span>loneliness))))</span>
<span id="cb14-5"><a href="6.2-working-with-code-from-articles.html#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(n_1)</span></code></pre></div>
<pre><code>## [1] 8.150741</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="6.2-working-with-code-from-articles.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(n_1)</span></code></pre></div>
<pre><code>## [1] 3.359446</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="6.2-working-with-code-from-articles.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(n_1)</span></code></pre></div>
<pre><code>## [1]  0 15</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="6.2-working-with-code-from-articles.html#cb20-1" aria-hidden="true" tabindex="-1"></a>s2_lst <span class="ot">&lt;-</span> <span class="fu">split</span>(sample2, <span class="at">f =</span> sample2<span class="sc">$</span>ID)</span>
<span id="cb20-2"><a href="6.2-working-with-code-from-articles.html#cb20-2" aria-hidden="true" tabindex="-1"></a>n_2 <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(s2_lst, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(x<span class="sc">$</span>loneliness))))</span>
<span id="cb20-3"><a href="6.2-working-with-code-from-articles.html#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(n_2)</span></code></pre></div>
<pre><code>## [1] 8.124586</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="6.2-working-with-code-from-articles.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(n_2)</span></code></pre></div>
<pre><code>## [1] 3.399153</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="6.2-working-with-code-from-articles.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(n_2)</span></code></pre></div>
<pre><code>## [1]  0 15</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="6.2-working-with-code-from-articles.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distribution of participants across number of daily surveys</span></span>
<span id="cb26-2"><a href="6.2-working-with-code-from-articles.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(<span class="dv">1</span>)</span>
<span id="cb26-3"><a href="6.2-working-with-code-from-articles.html#cb26-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">barplot</span>(<span class="fu">table</span>(<span class="fu">c</span>(n_1, n_2)), <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;valid loneliness scores&quot;</span>,</span>
<span id="cb26-4"><a href="6.2-working-with-code-from-articles.html#cb26-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">xlab =</span> <span class="st">&quot;number of completed daily surveys&quot;</span>,</span>
<span id="cb26-5"><a href="6.2-working-with-code-from-articles.html#cb26-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">900</span>), <span class="at">lwd =</span> <span class="fl">1.3</span>)</span>
<span id="cb26-6"><a href="6.2-working-with-code-from-articles.html#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">lwd =</span> <span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="6.2-working-with-code-from-articles.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># surveys, not valid measures</span></span>
<span id="cb27-2"><a href="6.2-working-with-code-from-articles.html#cb27-2" aria-hidden="true" tabindex="-1"></a>n_1 <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(s1_lst, <span class="cf">function</span>(x) <span class="fu">nrow</span>(x)))</span>
<span id="cb27-3"><a href="6.2-working-with-code-from-articles.html#cb27-3" aria-hidden="true" tabindex="-1"></a>n_2 <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">lapply</span>(s2_lst, <span class="cf">function</span>(x) <span class="fu">nrow</span>(x)))</span>
<span id="cb27-4"><a href="6.2-working-with-code-from-articles.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(n_1)</span></code></pre></div>
<pre><code>## [1] 8.269769</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="6.2-working-with-code-from-articles.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(n_1)</span></code></pre></div>
<pre><code>## [1] 3.318693</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="6.2-working-with-code-from-articles.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(n_1)</span></code></pre></div>
<pre><code>## [1]  1 15</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="6.2-working-with-code-from-articles.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(n_2)</span></code></pre></div>
<pre><code>## [1] 8.25207</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="6.2-working-with-code-from-articles.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(n_2)</span></code></pre></div>
<pre><code>## [1] 3.359575</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="6.2-working-with-code-from-articles.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(n_2)</span></code></pre></div>
<pre><code>## [1]  1 15</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="6.2-working-with-code-from-articles.html#cb39-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">barplot</span>(<span class="fu">table</span>(<span class="fu">c</span>(n_1, n_2)), <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;N&quot;</span>,</span>
<span id="cb39-2"><a href="6.2-working-with-code-from-articles.html#cb39-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">xlab =</span> <span class="st">&quot;number of completed daily surveys&quot;</span>,</span>
<span id="cb39-3"><a href="6.2-working-with-code-from-articles.html#cb39-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>), <span class="at">lwd =</span> <span class="fl">1.3</span>)</span>
<span id="cb39-4"><a href="6.2-working-with-code-from-articles.html#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">lwd =</span> <span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-5-3.png" width="672" /></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="6.2-working-with-code-from-articles.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># N and measurement occasions ---------------------------------------------</span></span>
<span id="cb40-2"><a href="6.2-working-with-code-from-articles.html#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="6.2-working-with-code-from-articles.html#cb40-3" aria-hidden="true" tabindex="-1"></a>sample1_lst <span class="ot">&lt;-</span> <span class="fu">split</span>(sample1, <span class="at">f =</span> sample1<span class="sc">$</span>ID)</span>
<span id="cb40-4"><a href="6.2-working-with-code-from-articles.html#cb40-4" aria-hidden="true" tabindex="-1"></a>sample2_lst <span class="ot">&lt;-</span> <span class="fu">split</span>(sample2, <span class="at">f =</span> sample2<span class="sc">$</span>ID)</span>
<span id="cb40-5"><a href="6.2-working-with-code-from-articles.html#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="6.2-working-with-code-from-articles.html#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(sample1_lst)</span></code></pre></div>
<pre><code>## [1] 2428</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="6.2-working-with-code-from-articles.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(sample2_lst)</span></code></pre></div>
<pre><code>## [1] 2416</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="6.2-working-with-code-from-articles.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(sample1_lst) <span class="sc">+</span> <span class="fu">length</span>(sample2_lst)</span></code></pre></div>
<pre><code>## [1] 4844</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="6.2-working-with-code-from-articles.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(sample1)</span></code></pre></div>
<pre><code>## [1] 20079</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="6.2-working-with-code-from-articles.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(sample2)</span></code></pre></div>
<pre><code>## [1] 19937</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="6.2-working-with-code-from-articles.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(sample1) <span class="sc">+</span> <span class="fu">nrow</span>(sample2)</span></code></pre></div>
<pre><code>## [1] 40016</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="6.2-working-with-code-from-articles.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># demographic variables ---------------------------------------------------</span></span>
<span id="cb52-2"><a href="6.2-working-with-code-from-articles.html#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="6.2-working-with-code-from-articles.html#cb52-3" aria-hidden="true" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">names</span>(sample1)</span>
<span id="cb52-4"><a href="6.2-working-with-code-from-articles.html#cb52-4" aria-hidden="true" tabindex="-1"></a>variables_level_2 <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="at">x =</span> names, <span class="at">pattern =</span> <span class="st">&quot;ID|group|b_|var_|federal&quot;</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb52-5"><a href="6.2-working-with-code-from-articles.html#cb52-5" aria-hidden="true" tabindex="-1"></a>data_l2_s1 <span class="ot">&lt;-</span> <span class="fu">unique</span>(sample1[variables_level_2])</span>
<span id="cb52-6"><a href="6.2-working-with-code-from-articles.html#cb52-6" aria-hidden="true" tabindex="-1"></a>data_l2_s2 <span class="ot">&lt;-</span> <span class="fu">unique</span>(sample2[variables_level_2])</span>
<span id="cb52-7"><a href="6.2-working-with-code-from-articles.html#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="6.2-working-with-code-from-articles.html#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="do">## age</span></span>
<span id="cb52-9"><a href="6.2-working-with-code-from-articles.html#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(data_l2_s1<span class="sc">$</span>b_demo_age_1)</span></code></pre></div>
<pre><code>## [1] 37.29462</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="6.2-working-with-code-from-articles.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(data_l2_s1<span class="sc">$</span>b_demo_age_1)</span></code></pre></div>
<pre><code>## [1] 14.32523</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="6.2-working-with-code-from-articles.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(data_l2_s2<span class="sc">$</span>b_demo_age_1)</span></code></pre></div>
<pre><code>## [1] 37.57201</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="6.2-working-with-code-from-articles.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(data_l2_s2<span class="sc">$</span>b_demo_age_1)</span></code></pre></div>
<pre><code>## [1] 14.24426</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="6.2-working-with-code-from-articles.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># generate level 2 data frame for all participants</span></span>
<span id="cb60-2"><a href="6.2-working-with-code-from-articles.html#cb60-2" aria-hidden="true" tabindex="-1"></a>data_l2 <span class="ot">&lt;-</span> <span class="fu">unique</span>(data[<span class="fu">c</span>(<span class="fu">grep</span>(<span class="at">x =</span> <span class="fu">names</span>(data), <span class="at">pattern =</span> <span class="st">&quot;ID|b_demo|b_work|b_corona&quot;</span>, <span class="at">value =</span> <span class="cn">TRUE</span>))])</span>
<span id="cb60-3"><a href="6.2-working-with-code-from-articles.html#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="6.2-working-with-code-from-articles.html#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(data_l2<span class="sc">$</span>b_demo_age_1)</span></code></pre></div>
<pre><code>## [1] 37.87923</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="6.2-working-with-code-from-articles.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(data_l2<span class="sc">$</span>b_demo_age_1)</span></code></pre></div>
<pre><code>## [1] 14.40773</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="6.2-working-with-code-from-articles.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(data_l2<span class="sc">$</span>b_demo_age_1), <span class="at">main =</span> <span class="st">&quot;Distribution of age across the total sample&quot;</span>, <span class="at">lwd =</span> <span class="fl">1.3</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>))</span>
<span id="cb64-2"><a href="6.2-working-with-code-from-articles.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">box</span>(<span class="at">lwd =</span> <span class="fl">1.3</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-5-4.png" width="672" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="6.2-working-with-code-from-articles.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="do">## quartiles of age</span></span>
<span id="cb65-2"><a href="6.2-working-with-code-from-articles.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(data_l2<span class="sc">$</span>b_demo_age_1)</span></code></pre></div>
<pre><code>##   0%  25%  50%  75% 100% 
##   18   27   34   48   88</code></pre>
<p>There are a few things I had to change within the code:</p>
<ul>
<li><p>I had to change the path the data was led to</p></li>
<li><p>Some functions where loaded in another file, I copied them to the code, the functions were: â€œgg_color_hueâ€ and â€œget_max_dailyâ€</p></li>
</ul>
<p>One of the things with the output of the graphs is that they donâ€™t contain y-axis descriptions.
This article was pretty easy to reproduce the code only needed a few changes. To rate the article on reproducible I would rate it about a four on a scale of one to five.</p>

</div>
<!-- </div> -->
<p style="text-align: center;">
<a href="6.1-working-with-articles.html"><button class="btn btn-default">Previous</button></a>
<a href="7-plan-for-learning-on-my-own.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
